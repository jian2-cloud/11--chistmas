<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ä¸“å±äº11â˜â˜çš„åœ£è¯èŠ‚ç¥ç¦</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body, html {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: #000;
    }
    /* é¦–å±æ–‡å­—æ ·å¼ - å‘ä¸Šç§»3%ã€å‘å³ç§»3% */
    #first-screen {
      position: absolute;
      top: 47%;
      left: 53%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      color: #fff;
      text-align: center;
      opacity: 1;
      transition: opacity 1s ease;
      width: 100%;
      padding: 0 20px;
      z-index: 10;
    }
    #first-screen span {
      background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #ffe66d);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    /* ç¥ç¦ä¾¿ç­¾æ ·å¼ - å›ºå®šå®½é«˜é¿å…å°ºå¯¸å·®å¼‚ */
    .note {
      position: absolute;
      padding: 8px 12px;
      font-size: 14px;
      color: #fff;
      border-radius: 6px;
      opacity: 0;
      pointer-events: none;
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
      width: 120px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    /* çƒŸèŠ±å®¹å™¨æ ·å¼ */
    #fireworks {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    /* éŸ³é‡æ§åˆ¶æŒ‰é’® */
    #volume-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      color: #fff;
      border: none;
      cursor: pointer;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body>
  <audio id="bgm" loop preload="auto">
    <source src="å—œå¥½ (1).mp3" type="audio/mpeg">
    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
	</audio>

  <!-- é¦–å±æ˜¾ç¤ºæ–‡å­— -->
  <div id="first-screen">
    <span>ä¸“å±äº11â˜â˜çš„åœ£è¯èŠ‚ç¥ç¦</span>
  </div>
  <!-- çƒŸèŠ±å®¹å™¨ -->
  <div id="fireworks"></div>
  <!-- éŸ³é‡æ§åˆ¶æŒ‰é’® -->
  <button id="volume-btn">ğŸ”Š</button>

  <script>
    const blessingTexts = [
      "é‡è§ä½ å¾ˆå¼€å¿ƒ", 
      "è®°å¾—åƒé¥­",
      "å¤©æ°”å†·äº†ï¼Œæˆ‘å¾ˆæƒ³ä½ ",
      "å¥½å¥½çˆ±è‡ªå·±",
      "åœ£è¯å¿«ä¹",
      "åœ£è¯ç¾å¥½",
      "ä»Šå¤œæ˜Ÿå…‰ï¼Œåœ£è¯ç›¸ä¼´",
      "å°‘ç†¬å¤œå“¦",
      "æ„¿æ‰€ä»¥çš„çƒ¦æ¼çš„æ¶ˆå¤±",
      "å¤šå–æ°´å“¦",
      "é¡ºé¡ºåˆ©åˆ©ï¼Œå¼€å¼€å¿ƒå¿ƒ",
      "åˆ«å¤ªç´¯ï¼Œå¶å°”å·æ‡’ä¹Ÿå¥½",
      "æ„¿ä½ è¢«åœ£è¯æ¸©æŸ”ä»¥å¾…",
      "å¹³å®‰å¤œå¹³å¹³å®‰å®‰",
      "è®°å¾—æ·»è¡£ï¼Œåˆ«æ„Ÿå†’å•¦",
      "åœ£è¯æ ‘ä¸‹è®¸çš„æ„¿éƒ½ä¼šå®ç°",
      "ç³–æœå’Œä½ ï¼Œæˆ‘éƒ½æƒ³è¦",
      "çƒ­çº¢é…’å’Œçƒ¤æ —å­éƒ½ä¸å¦‚ä½ ",
      "åœ£è¯æœ‰ä½ ï¼Œèƒœè¿‡æ‰€æœ‰",
      "å¤©å†·äº†ï¼ŒæŠ±æŠ±è‡ªå·±",
      "æŠŠçƒ¦æ¼ä¸¢è¿›åœ£è¯è¢œé‡Œ",
      "åœ£è¯çš„æ˜Ÿå…‰è½åœ¨ä½ è‚©å¤´",
      "åœ£è¯çš„æµªæ¼«å±äºä½ ",
      "å†¬å¤©ä¹Ÿè¦æ¸©æš–å‘€",
      "å¹³å®‰å–œä¹ï¼Œä¸‡äº‹èƒœæ„",
      "åœ£è¯çš„é’Ÿå£°ä¸ºä½ æ•²å“",
      "é›ªè½åœ£è¯ï¼Œå²å²å¹´å¹´",
      "æ„¿ä½ æ˜¯åœ£è¯æœ€å¥½çš„ç¤¼ç‰©",
      "åœ£è¯çš„çƒŸç«ï¼Œä¸ºä½ ç»½æ”¾",
      "ä½ çš„ç¬‘å®¹æ¯”åœ£è¯ç¯è¿˜äº®",
      "åœ£è¯çš„æ­Œï¼Œå”±ç»™ä½ å¬",
      "åœ£è¯çš„æ¸©æš–ï¼Œç»•åœ¨ä½ èº«è¾¹",
      "æƒ³å’Œä½ ä¸€èµ·è¿‡åœ£è¯",
      "æŠŠåœ£è¯çš„æ¸©æŸ”ï¼Œè®²ç»™ä½ å¬",
      "åœ£è¯çš„å¥½è¿ï¼Œéƒ½å¥”å‘ä½ ",
      "å¹³å®‰å¤œçš„è‹¹æœï¼Œç»™ä½ ç•™ç€",
      "åœ£è¯çš„ç”œï¼Œå…¨éƒ½ç»™ä½ ",
      "æ„¿ä½ åœ£è¯ï¼Œå¿«ä¹ä¸æ‰“çƒŠ",
      "åœ£è¯çš„æƒŠå–œï¼Œç­‰ä½ å‘ç°",
      "åœ£è¯çš„ç¥ç¦ï¼Œåªç»™æœ€çˆ±çš„ä½ ",
      "åœ£è¯çš„ç«¥è¯ï¼Œå› ä½ æˆçœŸ",
      "åœ£è¯çš„ç¯ç«ï¼Œä¸ºä½ ç‚¹äº®",
      "åœ£è¯çš„ç¾æ¢¦ï¼Œä¼´ä½ å…¥ç¡",
      "åœ£è¯çš„å¿«ä¹ï¼Œä¸ä½ å…±äº«",
      "æ„¿åœ£è¯çš„ç¾å¥½åŒ…å›´ä½ ",
      "åœ£è¯çš„ç¤¼ç‰©ï¼Œå·å·ç»™ä½ å‡†å¤‡å•¦",
      "è®°å¾—åƒåœ£è¯è›‹ç³•å‘€",
      "æˆ‘åœ¨åœ£è¯ç­‰ä½ å‘€",
      "åœ£è¯çš„é›ªèŠ±ï¼Œè½åœ¨ä½ å‘æ¢¢",
      "åœ£è¯çš„æš–ï¼Œèåœ¨ä½ å¿ƒé—´",
      "åœ£è¯çš„é£ï¼Œå¹èµ°ä½ çƒ¦æ¼",
      "åœ£è¯çš„å…‰ï¼Œç…§äº®ä½ å‰æ–¹",
      "åœ£è¯çš„å¤œï¼Œæ¸©æŸ”åˆæµªæ¼«",
      "åœ£è¯çš„æ­Œï¼Œè½»å¿«åˆæ‚ æ‰¬",
      "åœ£è¯çš„ç¬‘ï¼Œç”œèœœåˆç¿çƒ‚",
      "åœ£è¯çš„ç›¼ï¼Œæ¥å¹´å†ç›¸è§",
      "åœ£è¯çš„å¿µï¼Œå²å²å¸¸ç›¸ä¼´",
      "åœ£è¯çš„çº¦ï¼Œæ˜å¹´å†èµ´å®´",
      "åœ£è¯çš„æš–ï¼Œé©±æ•£å†¬æ—¥å¯’",
      "åœ£è¯çš„çˆ±ï¼Œå¡«æ»¡ä½ å¿ƒæ€€",
      "åœ£è¯çš„ç”œï¼Œç”œåœ¨ä½ èˆŒå°–",
      "åœ£è¯çš„è¶£ï¼Œç•™åœ¨ä½ è®°å¿†",
      "åœ£è¯çš„é—¹ï¼Œçƒ­é—¹åˆæ¬¢ç¬‘",
      "åœ£è¯çš„é™ï¼Œå®‰å¿ƒåˆæ¸©é¦¨",
      "åœ£è¯çš„çº¢ï¼Œå–œåº†åˆæ¸©æŸ”",
      "åœ£è¯çš„ç»¿ï¼Œæ¸…æ–°åˆæ²»æ„ˆ",
      "åœ£è¯çš„ç™½ï¼Œçº¯å‡€åˆå¯çˆ±",
      "åœ£è¯çš„å½©ï¼Œç»šçƒ‚åˆå¤šå½©",
      "åœ£è¯çš„æ˜Ÿï¼ŒæŒ‡å¼•ä½ å‰è¡Œ",
      "åœ£è¯çš„æœˆï¼Œæ¸©æŸ”ä½ æ¢¦å¢ƒ",
      "åœ£è¯çš„äº‘ï¼ŒæŸ”è½¯ä½ å¿ƒæƒ…",
      "åœ£è¯çš„é›¨ï¼Œæ»‹æ¶¦ä½ å¿ƒåº•",
      "åœ£è¯çš„éœœï¼Œç‚¹ç¼€ä½ æ—¶å…‰",
      "åœ£è¯çš„é›¾ï¼Œæœ¦èƒ§ä½ æ—…é€”",
      "åœ£è¯çš„éœ²ï¼Œæ¸…æ–°ä½ è„šæ­¥",
      "åœ£è¯çš„é›ªï¼Œæµªæ¼«ä½ ä¸–ç•Œ",
      "åœ£è¯çš„å†°ï¼Œå‰”é€ä½ å¿ƒçµ",
      "åœ£è¯çš„é˜³ï¼Œæ¸©æš–ä½ æ–¹å‘",
      "åœ£è¯çš„å…‰ï¼Œç‚¹äº®ä½ æ¢¦æƒ³",
      "é‡è§ä½ å¾ˆå¼€å¿ƒ", 
      "åœ£è¯çš„è¸ªï¼Œç•™ä¸‹ä½ ç¬‘å®¹",
      "åœ£è¯çš„å£°ï¼Œæ²»æ„ˆä½ çµé­‚",
      "åœ£è¯çš„éŸµï¼Œé™¶é†‰ä½ å¿ƒç¥",
      "åœ£è¯çš„å¾‹ï¼Œæ„‰æ‚¦ä½ å¿ƒæƒ…",
      "åœ£è¯çš„è°ƒï¼Œè°ƒå’Œä½ çƒ¦æ¼",
      "åœ£è¯çš„ç¬¦ï¼Œå¹¸ç¦ä½ å½’å®¿",
      "åœ£è¯çš„ç« ï¼Œä¹¦å†™ä½ å‰ç¥¥"
    ];
    const totalNotes = 80;
    const showInterval = 300;
    let noteIndex = 0;
    let isMuted = false;
    let allNotes = []; 
    let isHeartForming = false;
    // è®°å½•å·²å ç”¨çš„ä½ç½®åŒºåŸŸï¼Œé¿å…é‡å 
    const occupiedAreas = [];
    // æ ‡ç­¾å®½é«˜ï¼ˆä¸CSSä¸€è‡´ï¼‰
    const noteWidth = 120;
    const noteHeight = 40;
    // é—´è·
    const gap = 10;

    window.addEventListener('load', () => {
      const bgm = document.getElementById('bgm');
      const volumeBtn = document.getElementById('volume-btn');

      bgm.play().catch(err => {
        document.addEventListener('click', () => {
          bgm.play();
        }, { once: true });
      });

      volumeBtn.addEventListener('click', () => {
        isMuted = !isMuted;
        bgm.muted = isMuted;
        volumeBtn.innerText = isMuted ? "ğŸ”‡" : "ğŸ”Š";
      });

      setTimeout(() => {
        document.getElementById('first-screen').style.opacity = 0;
        setTimeout(startShowNotes, 1000);
      }, 2000);

      initFireworks();
    });

    // æ£€æµ‹ä½ç½®æ˜¯å¦é‡å 
    function isOverlap(x, y) {
      for (let area of occupiedAreas) {
        const dx = Math.abs(x - area.x);
        const dy = Math.abs(y - area.y);
        if (dx < (noteWidth + gap) && dy < (noteHeight + gap)) {
          return true;
        }
      }
      return false;
    }

    function startShowNotes() {
      if (noteIndex >= totalNotes) {
        setTimeout(() => {
          formHeartShape();
        }, 1000);
        return;
      }
      createNote();
      noteIndex++;
      setTimeout(startShowNotes, showInterval);
    }

    function createNote() {
      const note = document.createElement('div');
      note.className = 'note';
      note.innerText = blessingTexts[noteIndex % blessingTexts.length];

      // å¾ªç¯ç”Ÿæˆä¸é‡å çš„ä½ç½®
      let x, y;
      let maxAttempts = 100;
      let attempts = 0;
      do {
        x = Math.random() * (window.innerWidth - noteWidth - gap * 2) + gap;
        y = Math.random() * (window.innerHeight - noteHeight - gap * 2) + gap;
        attempts++;
      } while (isOverlap(x, y) && attempts < maxAttempts);

      // è®°å½•å ç”¨åŒºåŸŸ
      occupiedAreas.push({x, y});

      note.style.left = x + 'px';
      note.style.top = y + 'px';
      note.style.opacity = 1;
      note.style.transform = 'scale(1)';
      note.style.transition = 'none';

      const gradColors = [
        ['#ff6b6b', '#4ecdc4'],
        ['#ffd1dc', '#c3b1e1'],
        ['#ffc3a0', '#ffafbd'],
        ['#f7b731', '#fc4a1a'],
        ['#40e0d0', '#ff8c00'],
        ['#87ceeb', '#ffb6c1'],
        ['#90caf9', '#f48fb1']
      ];
      const randomGrad = gradColors[Math.floor(Math.random() * gradColors.length)];
      note.style.background = `linear-gradient(45deg, ${randomGrad[0]}, ${randomGrad[1]})`;

      document.body.appendChild(note);
      allNotes.push(note);
    }

    function formHeartShape() {
      if (isHeartForming) return;
      isHeartForming = true;

      // å¿ƒå½¢æ°´å¹³ä½ç½®ï¼šå‘å³ç§»3%åä¸º0.48çª—å£å®½åº¦
      const centerX = window.innerWidth * 0.48;
      // å¿ƒå½¢å‚ç›´ä½ç½®ï¼š0.4çª—å£é«˜åº¦
      const centerY = window.innerHeight * 0.4;
      // å¿ƒå½¢å°ºå¯¸ç³»æ•°ï¼šå†ä¸‹è°ƒ5%åä¸º0.030008125
      const heartSize = Math.min(window.innerWidth, window.innerHeight) * 0.030008125;

      // ç›®æ ‡æ ‡ç­¾æ–‡æœ¬
      const targetText = "é‡è§ä½ å¾ˆå¼€å¿ƒ";
      // æ‰¾åˆ°ç›®æ ‡æ ‡ç­¾åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•
      const targetIndex = allNotes.findIndex(note => note.innerText === targetText);
      
      allNotes.forEach((note, index) => {
        let x, y;
        // è‹¥ä¸ºç›®æ ‡æ ‡ç­¾ï¼Œè®¾ç½®å¿ƒå½¢èµ·å§‹ç‚¹ï¼ˆt=0ï¼‰çš„åæ ‡
        if (index === targetIndex) {
          // å¿ƒå½¢å‚æ•°æ–¹ç¨‹ t=0 æ—¶çš„åæ ‡
          x = centerX + heartSize * (16 * Math.pow(Math.sin(0), 3));
          y = centerY-heartSize * (13 * Math.cos(0)-5 * Math.cos(2*0)-2 * Math.cos(3*0)-Math.cos(4*0));
        } else {
          const t = (index / allNotes.length) * Math.PI * 2;
          x = centerX + heartSize * (16 * Math.pow(Math.sin(t), 3));
          y = centerY-heartSize * (13 * Math.cos(t)-5 * Math.cos(2*t)-2 * Math.cos(3*t)-Math.cos(4*t));
          x += (Math.random()-0.5) * 2;
          y += (Math.random()-0.5) * 2;
        }

        note.style.transition = 'left 3s ease-in-out, top 3s ease-in-out';
        note.style.left = x + 'px';
        note.style.top = y + 'px';
        note.style.opacity = 1;
      });

      // å¿ƒå½¢èšåˆå®Œæˆåï¼Œæ–‡å­—é‡æ–°æ˜¾ç¤º
      setTimeout(() => {
        document.getElementById('first-screen').style.opacity = 1;
      }, 3000);
    }

    function initFireworks() {
      const canvas = document.createElement('canvas');
      canvas.id = 'fireworks';
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      document.body.appendChild(canvas);
      const ctx = canvas.getContext('2d');

      setInterval(() => {
        const fireX = Math.random() * window.innerWidth;
        const fireY = Math.random() * window.innerHeight * 0.6;
        createFirework(fireX, fireY);
      }, 1000);

      function createFirework(x, y) {
        const particles = [];
        const particleCount = 50;
        for (let i = 0; i < particleCount; i++) {
          particles.push({
            x: x,
            y: y,
            vx: (Math.random()-0.5) * 8,
            vy: (Math.random()-0.8) * 8,
            alpha: 1,
            color: `hsl(${Math.random()*360}, 100%, 70%)`
          });
        }

        function update() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          particles.forEach((p, idx) => {
            p.x += p.vx;
            p.y += p.vy;
            p.alpha -= 0.01;
            p.vy += 0.1;

            if (p.alpha <= 0) {
              particles.splice(idx, 1);
              return;
            }
            ctx.beginPath();
            ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(255, 200, 100, ${p.alpha})`;
            ctx.fill();
          });
          if (particles.length > 0) {
            requestAnimationFrame(update);
          }
        }
        update();
      }

      // çª—å£å¤§å°å˜åŒ–æ—¶ï¼ŒçƒŸèŠ±ç”»å¸ƒè‡ªé€‚åº”
      window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    }
  </script>
</body>

</html>

